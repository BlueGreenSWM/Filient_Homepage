# 규칙 스케줄러

규칙 스케줄러는 설정한 시간에 자동으로 규칙을 실행하여 파일 정리를 완전히 자동화합니다. 반복적인 작업을 손쉽게 관리할 수 있습니다.

## 스케줄러 개요

### 자동 실행의 이점

**시간 절약**:
- 수동 실행 불필요
- 정기적인 정리 자동화
- 일관된 폴더 상태 유지

**편의성**:
- 잊지 않고 실행
- 최적 시간대 선택 가능
- 무인 실행 (야간, 주말)

**효율성**:
- 파일이 쌓이기 전 처리
- 시스템 리소스 여유 시간 활용
- 작업 부하 분산

### 스케줄러 작동 방식

```
스케줄 설정
    ↓
스케줄러 활성화
    ↓
설정된 시간 대기
    ↓
규칙 자동 실행
    ↓
결과 알림
    ↓
다음 스케줄 대기
```

**요구 사항**:
- Mac이 켜져 있어야 함
- Filient가 실행 중이어야 함 (백그라운드 가능)
- 충분한 배터리 또는 전원 연결 (노트북)

## 전역 스케줄러 설정

### 전역 스케줄러란?

모든 활성화된 규칙을 한 번에 실행하는 전역 스케줄입니다.

**설정 위치**: 설정 > 스케줄러

```
전역 스케줄러 설정
━━━━━━━━━━━━━━━━━━━━━━

활성화: ☑ 켜기

실행 주기
━━━━━━━━━━━━━━━━━━━━━━
○ 매일
● 매주
○ 매월

실행 시간: [02:00] ▼

매주 실행 요일
☑ 월  ☐ 화  ☐ 수  ☐ 목  ☐ 금  ☐ 토  ☐ 일

다음 실행: 2024-01-15 (월) 02:00

[ 저장 ]
```

### 실행 주기 옵션

#### 매일 실행

**설정**:
```
실행 주기: 매일
실행 시간: 02:00
간격: 1일마다
```

**사용 사례**:
- 다운로드 폴더 정리
- 임시 파일 삭제
- 일일 백업

**예시**:
```
매일 오전 2시에 실행
- 다운로드 폴더의 PDF 정리
- 오래된 임시 파일 삭제
- 스크린샷 자동 분류
```

#### 매주 실행

**설정**:
```
실행 주기: 매주
실행 시간: 02:00
요일: 월요일
```

**사용 사례**:
- 주간 폴더 정리
- 주말 다운로드 정리
- 주간 백업

**예시**:
```
매주 월요일 오전 2시
- 데스크탑 정리
- 프로젝트 백업
- 오래된 파일 아카이브
```

#### 매월 실행

**설정**:
```
실행 주기: 매월
실행 시간: 02:00
날짜: 1일 (또는 마지막 날: -1)
```

**사용 사례**:
- 월간 아카이브
- 대용량 백업
- 계절별 정리

**예시**:
```
매월 1일 오전 2시
- 지난 달 파일 아카이브
- 대용량 파일 정리
- 월간 백업 생성
```

### 실행 시간 설정

#### 최적 시간대 선택

**권장 시간**:
- **심야 시간** (02:00-04:00): 시스템 부하 낮음, 방해 없음
- **점심 시간** (12:00-13:00): 짧은 작업에 적합
- **퇴근 후** (18:00-19:00): 작업 마무리 시점

**피해야 할 시간**:
- 작업 집중 시간
- 화상 회의 시간
- 프레젠테이션 중
- 배터리 부족 시간

#### 시간 형식

**24시간 형식**:
```
02:00 (오전 2시)
14:30 (오후 2시 30분)
23:45 (오후 11시 45분)
```

**분 단위 설정**:
- 00분, 15분, 30분, 45분 (기본)
- 사용자 정의 입력 가능

### 다음 실행 시간

설정한 스케줄에 따라 다음 실행 예정 시각을 표시합니다.

```
다음 실행 예정
━━━━━━━━━━━━━━━━━━━━━━
2024-01-15 (월) 02:00

실행될 규칙: 12개
예상 소요 시간: 약 5분
```

**정보**:
- 날짜 및 시간
- 실행될 규칙 수
- 예상 소요 시간
- 남은 시간

### 마지막 실행 기록

```
마지막 실행
━━━━━━━━━━━━━━━━━━━━━━
2024-01-08 (월) 02:00

실행 시간: 00:04:32
규칙 12개 실행
파일 156개 처리

성공: 152 | 실패: 2 | 건너뜀: 2

[ 상세 보기 ]
```

## 개별 규칙 스케줄 (향후 기능)

각 규칙마다 독립적인 스케줄 설정 (개발 예정)

```
규칙: PDF 파일 정리
━━━━━━━━━━━━━━━━━━━━━━

☑ 독립 스케줄 사용
  (전역 스케줄과 별도로 실행)

실행 주기: 매일
실행 시간: 09:00

다음 실행: 2024-01-15 09:00
```

## 스케줄 실행 모니터링

### 실행 알림

스케줄 실행 시 알림을 받을 수 있습니다.

**알림 설정**:
```
설정 > 알림 > 스케줄 실행
━━━━━━━━━━━━━━━━━━━━━━

☑ 실행 시작 알림
☑ 실행 완료 알림
☑ 실행 실패 알림
☐ 실행 중 진행 상황 (시끄러울 수 있음)
```

**알림 예시**:
```
🔔 스케줄 실행 시작
━━━━━━━━━━━━━━━━━━━━━━
오전 2시 정기 실행 시작
12개 규칙 실행 예정
```

```
✓ 스케줄 실행 완료
━━━━━━━━━━━━━━━━━━━━━━
156개 파일 처리 완료
성공: 152 | 실패: 2
실행 시간: 4분 32초
```

### 실행 로그

스케줄 실행의 상세 로그를 확인할 수 있습니다.

```
스케줄 실행 로그
━━━━━━━━━━━━━━━━━━━━━━

2024-01-15 02:00:00 실행 시작
2024-01-15 02:00:05 규칙 1/12: PDF 파일 정리
2024-01-15 02:00:45 ✓ 15개 파일 처리
2024-01-15 02:00:46 규칙 2/12: 이미지 분류
2024-01-15 02:01:30 ✓ 28개 파일 처리
...
2024-01-15 02:04:32 실행 완료
```

**로그 레벨**:
- 정보: 일반 진행 상황
- 경고: 건너뛴 파일, 충돌
- 오류: 실패한 작업

**로그 보관**:
- 기본: 30일
- 설정 가능: 7일 ~ 90일
- 자동 정리 옵션

### 히스토리 통합

스케줄 실행도 일반 실행과 동일하게 히스토리에 기록됩니다.

```
히스토리 > 스케줄 실행
━━━━━━━━━━━━━━━━━━━━━━

🕐 2024-01-15 02:00 (자동)
   12개 규칙, 156개 파일
   성공: 152 | 실패: 2

🕐 2024-01-08 02:00 (자동)
   12개 규칙, 142개 파일
   성공: 140 | 실패: 2

🕐 2024-01-01 02:00 (자동)
   12개 규칙, 98개 파일
   성공: 98 | 실패: 0
```

**필터**:
- 스케줄 실행만 보기
- 수동 실행만 보기
- 전체 보기

## 전원 및 시스템 관리

### 전원 요구사항

**데스크탑 Mac**:
- 항상 전원 연결 상태
- 특별한 설정 불필요

**노트북 Mac**:
- 전원 연결 권장
- 배터리 모드에서도 실행 가능 (설정 필요)

**절전 모드**:
```
시스템 설정 > 배터리 > 전원 어댑터
━━━━━━━━━━━━━━━━━━━━━━

디스플레이 끄기: 10분 후
Mac 잠자기 방지: ☑ 켜기
(전원 어댑터 연결 시)
```

### Wake on Schedule

Mac을 자동으로 깨워 스케줄 실행:

```
설정 > 스케줄러 > 고급
━━━━━━━━━━━━━━━━━━━━━━

☑ 스케줄 실행을 위해 Mac 깨우기
   (pmset를 사용하여 설정)

실행 전 깨우기 시간: 5분
```

**macOS 설정**:
```
시스템 설정 > 배터리 > 일정
━━━━━━━━━━━━━━━━━━━━━━

시작 또는 깨우기:
☑ 매주 월요일 01:55
```

### 로그인 항목

Filient를 로그인 시 자동 실행:

```
시스템 설정 > 일반 > 로그인 항목
━━━━━━━━━━━━━━━━━━━━━━

열기 항목:
☑ Filient
   (백그라운드에서 열기)
```

**이점**:
- Mac 재시작 후에도 스케줄 유지
- 로그아웃 후 재로그인 시 자동 실행
- 무인 운영 가능

## 스케줄 관리

### 스케줄 일시 정지

일시적으로 스케줄 실행 중단:

```
스케줄러 설정
━━━━━━━━━━━━━━━━━━━━━━

활성화: ☐ 꺼짐 (일시 정지)

다음 실행: 일시 정지됨

[ 다시 활성화 ]
```

**사용 사례**:
- 휴가 기간
- 시스템 점검
- 디스크 작업 중

### 스케줄 히스토리

```
스케줄 히스토리
━━━━━━━━━━━━━━━━━━━━━━

✓ 성공적으로 실행됨 (156회)
  평균 실행 시간: 4분 32초
  평균 처리 파일: 145개

⚠ 건너뜀 (3회)
  - Mac 절전 모드 (2회)
  - Filient 미실행 (1회)

✗ 실패 (2회)
  - 디스크 공간 부족 (1회)
  - 권한 오류 (1회)
```

**통계**:
- 총 실행 횟수
- 성공률
- 평균 실행 시간
- 평균 처리 파일 수
- 실패 원인 분석

### 스케줄 조정

주기적으로 스케줄을 검토하고 조정합니다.

**검토 항목**:
- 실행 시간이 적절한가?
- 너무 자주 또는 드물게 실행되는가?
- 불필요한 규칙이 포함되어 있는가?
- 실패가 반복되는가?

**조정 방법**:
```
스케줄러 설정 > 편집
- 실행 주기 변경
- 실행 시간 변경
- 규칙 활성화/비활성화
```

## 실전 활용 예시

### 다운로드 폴더 자동 정리

**목표**: 매일 다운로드 폴더 정리

**규칙 구성**:
1. PDF 파일 → Documents/PDF
2. 이미지 파일 → Pictures
3. 압축 파일 → Downloads/Archive
4. 30일 이상 파일 → 휴지통

**스케줄 설정**:
```
실행 주기: 매일
실행 시간: 02:00
알림: 완료 시만
```

**결과**: 아침마다 깨끗한 다운로드 폴더

### 주간 프로젝트 백업

**목표**: 매주 프로젝트 폴더 백업

**규칙 구성**:
1. 프로젝트 폴더 전체 복사
2. 외장 하드로 백업
3. 날짜별 폴더 생성

**스케줄 설정**:
```
실행 주기: 매주
요일: 일요일
실행 시간: 23:00
알림: 완료 및 실패
```

**결과**: 주말마다 자동 백업

### 월간 아카이브

**목표**: 매월 오래된 파일 아카이브

**규칙 구성**:
1. 30일 이상 파일 선택
2. Archive 폴더로 이동
3. 월별 폴더 구조 생성

**스케줄 설정**:
```
실행 주기: 매월
날짜: 1일
실행 시간: 03:00
알림: 완료 및 실패
```

**결과**: 월초마다 자동 정리

## 모범 사례

### 스케줄 설계
- **적절한 주기**: 너무 자주 실행하지 말기
- **최적 시간**: 시스템 부하가 낮은 시간 선택
- **점진적 적용**: 소규모로 시작하여 확장
- **정기 검토**: 분기별로 스케줄 점검

### 안정성 확보
- **전원 연결**: 노트북은 항상 전원 연결
- **충분한 공간**: 디스크 여유 공간 확보
- **백업**: 중요 폴더는 백업 후 적용
- **알림 활성화**: 실패 시 즉시 알림

### 성능 최적화
- **시간대 분산**: 모든 규칙을 동시 실행하지 말기
- **규칙 최적화**: 불필요한 조건 제거
- **우선순위 설정**: 중요한 규칙 먼저 실행
- **로그 정리**: 오래된 로그 정기 삭제

## 문제 해결

### 스케줄이 실행되지 않음

**원인**:
- Mac이 절전 모드
- Filient가 종료됨
- 스케줄러 비활성화

**해결**:
1. Mac 절전 방지 설정 확인
2. Filient 자동 실행 설정
3. 스케줄러 활성화 확인

### 실행이 건너뛰어짐

**원인**:
- 설정된 시간에 Mac 꺼짐
- 시스템 부하 과다
- 디스크 공간 부족

**해결**:
- Wake on Schedule 활성화
- 실행 시간 조정
- 디스크 공간 확보

### 실행이 너무 오래 걸림

**원인**:
- 처리할 파일이 너무 많음
- 복잡한 규칙
- 네트워크 드라이브 사용

**해결**:
- 규칙 최적화
- 배치 크기 조정
- 로컬 드라이브 사용

## FAQ

**Q: Mac이 꺼져 있어도 스케줄 실행되나요?**
- 아니요. Mac이 켜져 있어야 합니다.
- Wake on Schedule을 설정하면 절전 모드에서 깨워 실행할 수 있습니다.

**Q: 스케줄 실행 중 Mac을 사용할 수 있나요?**
- 예. 백그라운드에서 실행되므로 정상적으로 사용 가능합니다.
- 단, 시스템 리소스를 많이 사용하는 작업은 느려질 수 있습니다.

**Q: 스케줄 시간을 놓치면 어떻게 되나요?**
- 다음 스케줄 시간까지 대기합니다.
- 설정에서 "놓친 스케줄 즉시 실행" 옵션 활성화 가능 (향후 기능)

**Q: 여러 개의 스케줄을 만들 수 있나요?**
- 현재는 전역 스케줄 하나만 지원합니다.
- 개별 규칙 스케줄은 향후 업데이트 예정입니다.

**Q: 스케줄 실행도 롤백할 수 있나요?**
- 예. 모든 실행은 히스토리에 기록되어 롤백 가능합니다.

---

[목차로 돌아가기](../README.md) | [다음: 조건 유형 상세](../reference/01-conditions.md)
