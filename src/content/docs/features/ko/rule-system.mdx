# 규칙 시스템

규칙은 Filient의 핵심으로, 파일을 자동으로 정리하는 로직을 정의합니다.

각 규칙은 하나의 폴더에 할당되며 조건(Conditions)과 액션(Actions)으로 구성됩니다.

## 규칙의 구성 요소

### 기본 구조
```
규칙 = 조건(들) + 액션(들) + 우선순위
```

- **조건**: 어떤 파일에 적용할지 결정
- **액션**: 조건에 맞는 파일에 수행할 작업
- **우선순위**: 여러 규칙 간 실행 순서

## 규칙 생성

### 생성 방법

**1. 수동 생성**
1. 폴더 선택 > "새 규칙" 클릭
2. 규칙 정보 입력
3. 조건 추가
4. 액션 추가
5. 저장

**2. AI 어시스턴트**
1. "새 규칙" 선택
2. 규칙 생성 페이지에서 자연어로 원하는 동작 설명
3. AI가 생성한 규칙 검토
4. 생성 승인
5. 필요시 수정 후 규칙 저장

**3. 템플릿 사용**
1. "템플릿에서 만들기" 선택
2. 템플릿 라이브러리에서 선택
3. 필요시 수정 후 규칙 저장

## 조건 (Conditions)

액션이 실행될 파일의 조건을 설정하는 부분입니다.
하나의 조건 안에서는 모든 요소가 OR 로 동작하여 그 중 하나라도 일치하는 경우에 조건이 참으로 간주되고
여러 조건들은 각각 서로 AND로 동작하여 모든 조건이 참이어야 액션이 동작합니다.

### 예시

```

조건 1: 확장자 = jpg, png, docx
조건 2: 이름에 "스크린샷" 단어를 포함

```
위의 경우 조건 1에 있는 jpg **OR** png **OR** docx 확장자를 가진 "스크린샷" 단어를 포함하는 파일에 대해서 액션이 수행됩니다.

## 액션 (Actions)

파일에 대한 액션을 설정하는 부분으로, 조건에 일치하는 파일에 대해서 가장 상위에 있는 액션부터 순차적으로 실행합니다.

만약, a-b-c 3개의 액션을 순차적으로 실행하던 중 오류가 발생하면 규칙 실행 이전의 상태로 파일을 원상태로 복구하고 다음 파일로 넘어갑니다.

## 규칙 우선순위

### 우선순위 설정
같은 우선순위 내에서는 상위에 있는 규칙부터 실행됩니다.
- **높음**: 가장 먼저 실행
- **중간**: 기본 우선순위
- **낮음**: 마지막에 실행

여러 규칙이 동일한 파일에 적용될 때 우선순위가 높은 규칙이 먼저 실행됩니다.